New password: petalinux
Retype new password: petalinux
mysdtproject:~$ # 检查是否存在名为 'xlnx' 的 DRM 设备ls /dev/dri/card*# 检查 HDMI 连接状态 (核心命令)# 如果输出中 status 为 connected，说明物理链路通了modetest -D xlnx | grep -A 5 "Connectors"# 尝试在屏幕上显示彩条测试图# -s <connector_id>:<mode> (ID 通常是 31 或 similar，mode 比如 1280x720)# 先运行 modetest -D xlnx 查看 ID，假设 ID 是 31：modetest -D xlnx -s 31:1280x720-60# 检查是否存在名为 'xlnx' 的 DRM 设备
mysdtproject:~$ ls /dev/dri/card*
ls: /dev/dri/card*: No such file or directory
mysdtproject:~$ 
mysdtproject:~$ # 检查 HDMI 连接状态 (核心命令)
mysdtproject:~$ # 如果输出中 status 为 connected，说明���理链路通了
mysdtproject:~$ modetest -D xlnx | grep -A 5 "Connectors"
no device found
mysdtproject:~$ 
mysdtproject:~$ # 尝试在屏幕上显示彩条测试图
mysdtproject:~$ # -s <connector_id>:<mode> (ID 通常是 31 或 similar，mode ���如 1280x720)
mysdtproject:~$ # 先运行 modetest -D xlnx 查看 ID，假设 ID 是 31：
mysdtproject:~$ modetest -D xlnx -s 31:1280x720-60
trying to open device 'i915'...failed
trying to open device 'amdgpu'...failed
trying to open device 'radeon'...failed
trying to open device 'nouveau'...failed
trying to open device 'vmwgfx'...failed
trying to open device 'omapdrm'...failed
trying to open device 'exynos'...failed
trying to open device 'tilcdc'...failed
trying to open device 'msm'...failed
trying to open device 'sti'...failed
trying to open device 'tegra'...failed
trying to open device 'imx-drm'...failed
trying to open device 'rockchip'...failed
trying to open device 'atmel-hlcdc'...failed
trying to open device 'fsl-dcu-drm'...failed
trying to open device 'vc4'...failed
trying to open device 'virtio_gpu'...failed
trying to open device 'mediatek'...failed
trying to open device 'meson'...failed
trying to open device 'pl111'...failed
trying to open device 'stm'...failed
trying to open device 'sun4i-drm'...failed
trying to open device 'armada-drm'...failed
trying to open device 'komeda'...failed
trying to open device 'imx-dcss'...failed
trying to open device 'mxsfb-drm'...failed
trying to open device 'simpledrm'...failed
trying to open device 'imx-lcdif'...failed
trying to open device 'vkms'...failed
no device found
mysdtproject:~$ # 查看所有 Xilinx 相关驱动的内核日志dmesg | grep -i "xlnx"# 专门检查显示管道报错dmesg | grep -E "drm|frmbuf|pl-disp|vtc"# 检查 Framebuffer 驱动是否因为复位问题报错dmesg | grep "xilinx-frmbuf"# 查看所有 Xilinx 相关驱动的内核日志
mysdtproject:~$ dmesg | grep -i "xlnx"
xlnx-pl-disp pl_disp: failed to request dma channel
mysdtproject:~$ 
mysdtproject:~$ # 专门检查显示管道报错
mysdtproject:~$ dmesg | grep -E "drm|frmbuf|pl-disp|vtc"
xilinx-frmbuf 43c10000.v_frmbuf_rd: Unable to locate reset property in dt
xilinx-frmbuf 43c10000.v_frmbuf_rd: probe with driver xilinx-frmbuf failed with error -2
systemd[1]: Starting Load Kernel Module drm...
xlnx-pl-disp pl_disp: failed to request dma channel
mysdtproject:~$ 
mysdtproject:~$ # 检查 Framebuffer 驱动是否因为复位问题报错
mysdtproject:~$ dmesg | grep "xilinx-frmbuf"
xilinx-frmbuf 43c10000.v_frmbuf_rd: Unable to locate reset property in dt
xilinx-frmbuf 43c10000.v_frmbuf_rd: probe with driver xilinx-frmbuf failed with error -2
mysdtproject:~$ # 查看时钟树，确认 clk_pixel 是否存在且频率正确 (应为 74.25 MHz 左右)cat /sys/kernel/debug/clk/clk_summary | grep clk_pixel# 检查 CMA 内存分配情况 (确认 Total 是否为 64MB)cat /proc/meminfo | grep CMA# 查看时钟树，确认 clk_pixel 是否存在且频�(arg: 1) # 查看时钟树，确认 clk_pixel 是否存在且频�(arg: -1) # 查看时钟树，确认 clk_pixel 是否存在且频mysdtproject:~$ # 查看时钟树，确认 clk_pixel 是否存在且频�mysdtproject:~$ 
-sh: $'\346\237\245\347\234\213\346\227\266\351\222\237\346\240\221\357\274\214\347\241\256\350\256\244': command not found
mysdtproject:~$ 是否存在且频� (应为 74.25 MHz 左右)
-sh: syntax error near unexpected token `$'\345\272\224\344\270\272''
mysdtproject:~$ cat /sys/kernel/debug/clk/clk_summary | grep clk_pixel
cat: can't open '/sys/kernel/debug/clk/clk_summary': No such file or directory
mysdtproject:~$ 
mysdtproject:~$ # 检查 CMA 内存分配情况 (确认 Total ��否为 64MB)
mysdtproject:~$ cat /proc/meminfo | grep CMA
mysdtproject:~$ # 检查 VFB Read 节点是否有 reset-gpios 属性ls /proc/device-tree/amba_pl/v_frmbuf_rd@43c10000/# 检查 pl_disp 是否正确关联了 DMAls /proc/device-tree/pl_disp/dmas# 检查 VFB Read 节点是否有 reset-gpios 属性
mysdtproject:~$ ls /proc/device-tree/amba_pl/v_frmbuf_rd@43c10000/
#dma-cells                  interrupt-parent            xlnx,dma-addr-width         xlnx,s-axi-ctrl-addr-width
clock-names                 interrupts                  xlnx,dma-align              xlnx,s-axi-ctrl-data-width
clocks                      name                        xlnx,max-height             xlnx,use-uram
compatible                  phandle                     xlnx,max-width              xlnx,vid-formats
interrupt-names             reg                         xlnx,pixels-per-clock       xlnx,video-width
mysdtproject:~$ 
mysdtproject:~$ # 检查 pl_disp 是否正确关联了 DMA
mysdtproject:~$ ls /proc/device-tree/pl_disp/dmas
/proc/device-tree/pl_disp/dmas
mysdtproject:~$ # 向屏幕填充随机噪点 (测试 Framebuffer 写入)cat /dev/urandom > /dev/fb0# 向屏幕填充随机噪点 (测试 Framebuffer 写入)
mysdtproject:~$ cat /dev/urandom > /dev/fb0
-sh: /dev/fb0: Permission denied